<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}, "axis": {"labelFontSize": 20, "titleFontSize": 22}, "legend": {"labelFontSize": 20, "titleColor": "black", "titleFontSize": 20}, "title": {"anchor": "middle", "fontSize": 20}}, "layer": [{"mark": {"type": "line"}, "encoding": {"color": {"field": "devices", "scale": {"range": ["#2C75FF", "black", "red"]}, "type": "nominal"}, "detail": {"field": "patient", "type": "nominal"}, "opacity": {"value": 0.8}, "x": {"field": "months", "title": "months from consent", "type": "quantitative"}, "y": {"axis": {"offset": 0, "ticks": false, "labels": false, "minExtent": 0, "domain": false}, "field": "patient", "sort": "ascending", "title": "Participant", "type": "nominal"}}, "name": "view_1", "transform": [{"filter": {"field": "measurement", "oneOf": ["first", "last", "withdrawn", "deceased"]}}]}, {"mark": {"type": "point", "filled": true}, "encoding": {"color": {"field": "Group", "scale": {"domain": ["Diseased", "Healthy"], "range": ["#1E88E5", "#004D40"]}, "sort": {"field": "Group_order"}, "type": "nominal"}, "opacity": {"value": 1}, "shape": {"field": "measurement", "scale": {"domain": ["first", "last", "withdrawn", "deceased", "diagnosis"], "range": ["triangle-left", "triangle-right", "triangle", "cross", "circle"]}, "title": "timepoint", "type": "nominal"}, "size": {"condition": {"test": "datum['measurement'] == 'first' || datum['measurement'] == 'last'", "value": 50}, "value": 100}, "x": {"field": "months", "title": "months from consent", "type": "quantitative"}, "y": {"axis": {"offset": 0, "ticks": false, "labels": false, "minExtent": 0, "domain": false}, "field": "patient", "sort": "ascending", "title": "Participant", "type": "nominal"}}, "transform": [{"filter": {"field": "measurement", "oneOf": ["first", "last", "withdrawn", "deceased", "diagnosis"]}}]}, {"data": {"name": "data-d285a7403ed98ae579761d64a864032b"}, "mark": {"type": "rule", "color": "black", "size": 1}, "encoding": {"x": {"field": "x", "type": "quantitative"}}}], "data": {"name": "data-25c5f6f1d3129203a489909ff328abe3"}, "height": 250, "params": [{"name": "param_1", "select": {"type": "interval", "encodings": ["x", "y"]}, "bind": "scales", "views": ["view_1"]}], "resolve": {"scale": {"color": "independent"}}, "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-25c5f6f1d3129203a489909ff328abe3": [{"patient": 11.0, "Group": "Diseased", "devices": "device 1", "measurement": "first", "Group_order": 1.0, "time_order": 11.0, "months": -28.644798140357416}, {"patient": 23.0, "Group": "Diseased", "devices": "device 1", "measurement": "first", "Group_order": 1.0, "time_order": 23.0, "months": -9.592823524229209}, {"patient": 14.0, "Group": "Diseased", "devices": "device 1", "measurement": "first", "Group_order": 1.0, "time_order": 14.0, "months": -34.17588385885979}, {"patient": 44.5, "Group": "Healthy", "devices": "device 1", "measurement": "first", "Group_order": 4.0, "time_order": 44.5, "months": -13.824461687930754}, {"patient": 32.5, "Group": "Healthy", "devices": "device 1", "measurement": "first", "Group_order": 4.0, "time_order": 32.5, "months": -45.47100723601279}, {"patient": 38.5, "Group": "Healthy", "devices": "device 1", "measurement": "first", "Group_order": 4.0, "time_order": 38.5, "months": -19.57848440819152}, {"patient": 2.0, "Group": "Diseased", "devices": "device 1", "measurement": "first", "Group_order": 0.0, "time_order": 2.0, "months": -60.76030306149657}, {"patient": 20.0, "Group": "Diseased", "devices": "device 1", "measurement": "first", "Group_order": 1.0, "time_order": 20.0, "months": -33.92244459326644}, {"patient": 8.0, "Group": "Diseased", "devices": "device 1", "measurement": "first", "Group_order": 1.0, "time_order": 8.0, "months": -72.21647712926476}, {"patient": 17.0, "Group": "Diseased", "devices": "device 1", "measurement": "first", "Group_order": 1.0, "time_order": 17.0, "months": -26.020627588907956}, {"patient": 46.5, "Group": "Healthy", "devices": "device 1", "measurement": "first", "Group_order": 4.0, "time_order": 46.5, "months": -20.24418334586155}, {"patient": 30.5, "Group": "Healthy", "devices": "device 1", "measurement": "first", "Group_order": 4.0, "time_order": 30.5, "months": -75.33296765192304}, {"patient": 40.5, "Group": "Healthy", "devices": "device 1", "measurement": "first", "Group_order": 4.0, "time_order": 40.5, "months": -47.84559270317914}, {"patient": 42.5, "Group": "Healthy", "devices": "device 1", "measurement": "first", "Group_order": 4.0, "time_order": 42.5, "months": -43.59711827948}, {"patient": 5.0, "Group": "Diseased", "devices": "device 1", "measurement": "first", "Group_order": 1.0, "time_order": 5.0, "months": -60.40062012031517}, {"patient": 28.5, "Group": "Healthy", "devices": "device 1", "measurement": "first", "Group_order": 4.0, "time_order": 28.5, "months": -72.39637254872795}, {"patient": 34.5, "Group": "Healthy", "devices": "device 3", "measurement": "first", "Group_order": 4.0, "time_order": 34.5, "months": -45.41024174983408}, {"patient": 26.0, "Group": "Diseased", "devices": "device 1", "measurement": "first", "Group_order": 1.0, "time_order": 26.0, "months": -11.90429262063915}, {"patient": 36.5, "Group": "Healthy", "devices": "device 1", "measurement": "first", "Group_order": 4.0, "time_order": 36.5, "months": -25.531954769107365}, {"patient": 11.0, "Group": "Diseased", "devices": "device 1", "measurement": "last", "Group_order": 1.0, "time_order": 11.0, "months": 52.97933767757766}, {"patient": 23.0, "Group": "Diseased", "devices": "device 1", "measurement": "last", "Group_order": 1.0, "time_order": 23.0, "months": 37.861674319064406}, {"patient": 14.0, "Group": "Diseased", "devices": "device 1", "measurement": "last", "Group_order": 1.0, "time_order": 14.0, "months": 51.506361944450525}, {"patient": 44.5, "Group": "Healthy", "devices": "device 1", "measurement": "last", "Group_order": 4.0, "time_order": 44.5, "months": 36.222502882668714}, {"patient": 32.5, "Group": "Healthy", "devices": "device 1", "measurement": "last", "Group_order": 4.0, "time_order": 32.5, "months": 26.57975933831111}, {"patient": 38.5, "Group": "Healthy", "devices": "device 1", "measurement": "last", "Group_order": 4.0, "time_order": 38.5, "months": 21.96940278832912}, {"patient": 2.0, "Group": "Diseased", "devices": "device 1", "measurement": "last", "Group_order": 0.0, "time_order": 2.0, "months": -22.741366995456367}, {"patient": 20.0, "Group": "Diseased", "devices": "device 1", "measurement": "withdrawn", "Group_order": 1.0, "time_order": 20.0, "months": 10.235597361947292}, {"patient": 8.0, "Group": "Diseased", "devices": "device 1", "measurement": "last", "Group_order": 1.0, "time_order": 8.0, "months": 35.46999932448445}, {"patient": 17.0, "Group": "Diseased", "devices": "device 1", "measurement": "last", "Group_order": 1.0, "time_order": 17.0, "months": 40.54842313332184}, {"patient": 46.5, "Group": "Healthy", "devices": "device 1", "measurement": "last", "Group_order": 4.0, "time_order": 46.5, "months": 54.36088942510026}, {"patient": 30.5, "Group": "Healthy", "devices": "device 1", "measurement": "last", "Group_order": 4.0, "time_order": 30.5, "months": -4.397377452900937}, {"patient": 40.5, "Group": "Healthy", "devices": "device 1", "measurement": "last", "Group_order": 4.0, "time_order": 40.5, "months": 38.47415557542887}, {"patient": 42.5, "Group": "Healthy", "devices": "device 1", "measurement": "last", "Group_order": 4.0, "time_order": 42.5, "months": 29.875761333906805}, {"patient": 5.0, "Group": "Diseased", "devices": "device 1", "measurement": "last", "Group_order": 1.0, "time_order": 5.0, "months": 9.100547788276268}, {"patient": 28.5, "Group": "Healthy", "devices": "device 1", "measurement": "last", "Group_order": 4.0, "time_order": 28.5, "months": 21.150100499093437}, {"patient": 34.5, "Group": "Healthy", "devices": "device 3", "measurement": "last", "Group_order": 4.0, "time_order": 34.5, "months": 2.8338914967928464}, {"patient": 26.0, "Group": "Diseased", "devices": "device 1", "measurement": "deceased", "Group_order": 1.0, "time_order": 26.0, "months": -2.6963147173993907}, {"patient": 36.5, "Group": "Healthy", "devices": "device 1", "measurement": "last", "Group_order": 4.0, "time_order": 36.5, "months": 10.670839655670529}, {"patient": 11.0, "Group": "Diseased", "devices": "device 1", "measurement": "diagnosis", "Group_order": 1.0, "time_order": 11.0, "months": -139.0863676180434}, {"patient": 23.0, "Group": "Diseased", "devices": "device 1", "measurement": "diagnosis", "Group_order": 1.0, "time_order": 23.0, "months": -114.39688375131176}, {"patient": 14.0, "Group": "Diseased", "devices": "device 1", "measurement": "diagnosis", "Group_order": 1.0, "time_order": 14.0, "months": -55.89039267687573}, {"patient": 8.0, "Group": "Diseased", "devices": "device 1", "measurement": "diagnosis", "Group_order": 1.0, "time_order": 8.0, "months": -20.89207454102156}, {"patient": 20.0, "Group": "Diseased", "devices": "device 1", "measurement": "diagnosis", "Group_order": 1.0, "time_order": 20.0, "months": 6.59402715730952}, {"patient": 17.0, "Group": "Diseased", "devices": "device 1", "measurement": "diagnosis", "Group_order": 1.0, "time_order": 17.0, "months": 3.094948677574595}, {"patient": 26.0, "Group": "Diseased", "devices": "device 1", "measurement": "diagnosis", "Group_order": 1.0, "time_order": 26.0, "months": 26.723169859143656}, {"patient": 2.0, "Group": "Diseased", "devices": "device 1", "measurement": "diagnosis", "Group_order": 0.0, "time_order": 2.0, "months": -1.7884070234631828}, {"patient": 5.0, "Group": "Diseased", "devices": "device 1", "measurement": "diagnosis", "Group_order": 1.0, "time_order": 5.0, "months": -159.63336366146248}], "data-d285a7403ed98ae579761d64a864032b": [{"x": 0}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>